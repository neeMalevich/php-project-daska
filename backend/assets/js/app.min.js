document.addEventListener('DOMContentLoaded', () => {

    // каталог сайдбар и чекбоксы
    document.querySelectorAll('.accordion-item h2').forEach((accordionToggle) => {
        accordionToggle.addEventListener('click', () => {
            const accordionItem = accordionToggle.parentNode;
            const accordionContent = accordionToggle.nextElementSibling;

            if (accordionContent.style.maxHeight) {
                accordionContent.style.maxHeight = null;
                accordionItem.classList.remove('active');
            } else {
                accordionContent.style.maxHeight = accordionContent.scrollHeight + 'px';
                accordionItem.classList.add('active');
            }
        });
    });

    // modalka
    function modalCustomProduct() {
        let modal = document.querySelector(".modal-order");
        let trigger = document.querySelectorAll(".product-popup");
        let closeButton = document.querySelector(".close-button-order");
        let body = document.querySelector("body");

        function toggleModal(e) {
            modal.classList.toggle("show-modal-order");
            body.classList.toggle("_is-no-scroll");
        }

        function windowOnClick(event) {
            if (event.target === modal) {
                toggleModal(event);
            }
        }

        trigger.forEach(item => {
            item.addEventListener("click", toggleModal);
        });
        closeButton.addEventListener("click", toggleModal);
        window.addEventListener("click", windowOnClick);
    }

    modalCustomProduct();

});